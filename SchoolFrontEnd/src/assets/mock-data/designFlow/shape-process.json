{
    "type": "initParameters",
    "id": "tableTransfersListFilterForm",
    "header": {
        "seo": {
            "text": "designerFlow___modalTitle___shapeProcess"
        }
    },
    "details": [
        {
            "type": "wrapper",
            "id": "markAsEndWrapper",
            "pathToValue": [
                ""
            ],
            "dynamicProps": {
                "hidden": "!{{canMarkAsEnd}}"
            },
            "details": [
                {
                    "type": "boolean",
                    "id": "isEnd",
                    "text": null,
                    "description": "Assinalar como final de fluxo",
                    "pathToValue": [
                        "markAsEnd"
                    ]
                },
                {
                    "type": "wct-tuple-list",
                    "id": "outputVariables",
                    "text": "designerFlow___setValues",
                    "min": 0,
                    "pathToValueList": [
                        "outputVariables",
                        "@findOutputVariables($this)"
                    ],
                    "details": [
                        {
                            "type": "wct-ng-select",
                            "id": "variableName",
                            "text": "designerFlow___variableName",
                            "class": "col-sm-4",
                            "pathToValueList": [
                                "config::designerFlowComponent",
                                "variables",
                                "@formatValueList($this,'displayName','displayName', {\"line1\": \"displayName\",\"line2\": \"description\"})",
                                "@formatValueListTwoLines($this)"
                            ],
                            "pathToValue": [
                                "variableName"
                            ]
                        },
                        {
                            "type": "custom-mentions",
                            "id": "path",
                            "class": "col-sm-5",
                            "text": "designerFlow___newValue",
                            "pathToValue": [
                                "path",
                                "$this.toString()"
                            ],
                            "pathToValueList": [
                                "config::designerFlowComponent",
                                "variables",
                                "@mentionsComponentFormat($this)"
                            ],
                            "parameters": [
                                {
                                    "key": "updatePageParameter",
                                    "value": {
                                        "pathType": {
                                            "value": "{{@fv()@getPathType(@replaceTagVars('path'))}}"
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "type": "input-select",
                            "id": "pathType",
                            "text": "designerFlow___valueType",
                            "class": "col-sm-3",
                            "placeholder": null,
                            "valueList": [
                                {
                                    "key": "string",
                                    "value": "designerFlow___valueTypeOptions___string"
                                },
                                {
                                    "key": "number",
                                    "value": "designerFlow___valueTypeOptions___number"
                                },
                                {
                                    "key": "boolean",
                                    "value": "designerFlow___valueTypeOptions___boolean"
                                },
                                {
                                    "key": "reset",
                                    "value": "designerFlow___valueTypeOptions___reset"
                                },
                                {
                                    "key": "null",
                                    "value": "designerFlow___valueTypeOptions___empty"
                                }
                            ],
                            "pathToValue": [
                                "@evaluatePathType($this['pathType'],$this['path'])"
                            ]
                        }
                    ],
                    "dynamicProps": {
                        "hidden": "!{{isEnd}}"
                    }
                }
            ]
        },
        {
            "include": "designFlow/includes/shape-common-params"
        },
        {
            "type": "custom-mentions",
            "id": "vaAnswer",
            "text": "designerFlow___shapes___simpleAnswer",
            "pathToValue": [
                "vaAnswer"
            ],
            "pathToValueList": [
                "config::designerFlowComponent",
                "variables",
                "@mentionsComponentFormat($this)"
            ]
        },
        {
            "type": "bs-va-answer",
            "id": "vaComplexAnswer",
            "_text": null,
            "pathToValue": [
                "vaComplexAnswer"
            ]
        }
    ],
    "operations": [
        {
            "parameters": [
                {
                    "id": "calcelFilter",
                    "text": "generic___operations___cancel",
                    "class": "btn-force-default btn-default"
                },
                {
                    "type": "updatePage",
                    "text": "generic___operations___save",
                    "class": "btn-primary btn-submit",
                    "dynamicProps": {
                        "disabled": "!{{canSubmitForm}}"
                    },
                    "parameters": [
                        {
                            "key": "updatePageParameter",
                            "value": {
                                "designerFlowComponent": {
                                    "sendEvent": [
                                        {
                                            "key": "saveShapeName",
                                            "value": {
                                                "shapeId": "{{shapeId}}",
                                                "name": "{{shapeName}}"
                                            }
                                        },
                                        {
                                            "key": "saveDataRecs",
                                            "value": {
                                                "shapeId": "{{shapeId}}",
                                                "dataRecs": {
                                                    "markAsEnd": "{{isEnd}}",
                                                    "outputVariables": "{{@fv()@replaceTagVars('isEnd')=='true'?@mapOutputVariables(@getJsonParam('outputVariables').value):[]}}",
                                                    "vaAnswer": "{{vaAnswer}}",
                                                    "vaComplexAnswer": "{{vaComplexAnswer}}",
                                                    "actions": "{{@fv()@createAcions(@replaceTagVars('vaComplexAnswer'))}}"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    ]
                }
            ]
        }
    ]
}