/*! fuxi - v1.21.0 - 2016-11-28 */var FUXI={};FUXI.Utils={},FUXI.Utils.SetDTPagination=function(a,b){var c=b._iRecordsDisplay||b.aoData.length;c<=b._iDisplayLength&&$(b.nTableWrapper).find(".dataTable-pagination-wrapper, .dataTables_length").hide()},FUXI.Utils.DTSortOnHeaderLabel=function(a){for(var b=$(a.target),c=b.DataTable(),d=0;d<c.fnSettings().aoColumns.length;d++){var e=$("th:eq('"+d+"')",b),f=e.find(".fx-th-btns");if(0!==f.length){e.off("click.DT"),e.css("cursor","default");var g=e.find(".fx-th-label");0!==g.length&&(g.css("cursor","pointer"),c.fnSortListener(g,d))}}},FUXI.Utils.eventsName={},FUXI.Utils.eventsName.fuxiUtils="click.fuxi.utils",FUXI.Utils.eventsName.hideElements="click.fuxi.hideelements",FUXI.Utils.eventsName.toggleElements="click.fuxi.toggleelements",FUXI.Utils.eventsName.hideElementsOnBack="fuxi.hideelementsOnBack",FUXI.Utils.init=function(){$("[data-toggle='tooltip']").tooltip(),$("[data-toggle=popover]").popover(),$(".btn-group.fx-pos-static > .fx-dropdown-toggle").off(FUXI.Utils.eventsName.fuxiUtils).on(FUXI.Utils.eventsName.fuxiUtils,function(){var a=$(this),b=a.next(".fx-dropdown"),c=a.position(),d=b.hasClass("fx-dropdown-open-to-left");b.css({top:c.top+a.outerHeight(),left:d?c.left-(b.outerWidth()-a.outerWidth()):c.left})})},FUXI.Utils.onReady=function(){FUXI.Utils.Polyfills.init();var a=null,b=null,c=null,d=null;$(document).off(FUXI.Utils.eventsName.hideElements).on(FUXI.Utils.eventsName.hideElements,function(d){if(null!=c&&c.removeClass("open"),null!=b){var e=b;if(!e.is(d.target)&&0===e.has(d.target).length&&0===$(".fx-dropdown").has(d.target).length){var f=e.next(d);$(f).hasClass("is-open")&&$(f).removeClass("is-open").hide()}}null!=a&&(a.is(d.target)||0!==a.has(d.target).length||0!==$(".popover").has(d.target).length||(a.popover("hide"),$(".popover").remove(),a=null))}),$(document).on(FUXI.Utils.eventsName.hideElementsOnBack,function(a){var b=$(".select2-drop:visible");null!=b&&void 0!==b&&b.each(function(){$(this).select2("close")}),$(document).trigger("dp.show");var c=$(".fx-ms-wrapper.fx-ms-wrapper-opened");null!=c&&void 0!==c&&c.each(function(){var a=$(this).data("ms");null!=a&&void 0!==a?a.closeDropdown():(angular.element(c).scope().selectBoxTreeCtrl.hideDropdown(),angular.element(c).scope().$apply())});var d=$(a.target).attr("fx-dropdown-attachToBody");"undefined"!=typeof d&&d!==!1&&($(a.target).append(dropdownMenu.detach()),dropdownMenu.hide()),$(".modal.fade.in").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}),$(document).on("show.bs.popover",function(b){var c=$(b.target);$(this).trigger(FUXI.Utils.eventsName.hideElements),a=c}).on("show.bs.dropdown",function(a){$(this).trigger(FUXI.Utils.eventsName.hideElements),c=$(a.target);var b=c.attr("fx-dropdown-attachToBody");if("undefined"!=typeof b&&b!==!1){dropdownMenu=c.find(".dropdown-menu"),$("body").append(dropdownMenu.detach());var d=c.offset();dropdownMenu.css({display:"block",top:d.top+c.outerHeight(),left:d.left})}}).on("hide.bs.dropdown",function(a){var b=$(a.target).attr("fx-dropdown-attachToBody");"undefined"!=typeof b&&b!==!1&&($(a.target).append(dropdownMenu.detach()),dropdownMenu.hide())}).off(FUXI.Utils.eventsName.toggleElements).on(FUXI.Utils.eventsName.toggleElements,".fx-dropdown-toggle",function(){$(this).trigger(FUXI.Utils.eventsName.hideElements),$(this).next(".fx-dropdown").toggleClass("is-open").toggle(),b=$(this)}).off("dp.show").on("dp.show",function(a){var b=$(a.target);null==d||d.is(b)||d.data("DateTimePicker")&&d.data("DateTimePicker").hide();var c=b.closest(".fx-dropdown, .popover").length;0===c&&$(this).trigger(FUXI.Utils.eventsName.hideElements),d=b}).on("shown.bs.tab",function(a){var b=$(a.target).data("target"),c=void 0===b?$(a.target)[0].getAttribute("href"):b;$(c).has('[data-fix-to="top"]').length>0&&FUXI.FixedPositions.reload&&FUXI.FixedPositions.reload($('[data-fix-to="top"]',c))}),$(".fx-modal-panel").on("click",function(a){var b=$(this),c=a.target.className;c.search&&-1!=c.search("modal-dialog")&&b.modal("hide")}),$("li.disabled>a").on("click",!1)},"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),FUXI.Utils.executeFunctionByName=function(a,b){for(var c=Array.prototype.slice.call(arguments,2),d=a.split("."),e=d.pop(),f=0;f<d.length;f++)b=b[d[f]];return b[e].apply(b,c)},FUXI.Utils.like=function(a,b){return"string"!=typeof b||null===a?!1:(b=b.replace(new RegExp("([\\.\\\\\\+\\*\\?\\[\\^\\]\\$\\(\\)\\{\\}\\=\\!\\<\\>\\|\\:\\-])","g"),"\\$1"),b=b.replace(/%/g,".*").replace(/_/g,"."),RegExp("^"+b+"$","gi").test(a))},FUXI.Utils.format=function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})},FUXI.Utils.installKeyUpChangeEvent=function(a,b){var c="keyup-change-value",d="undefined"!=typeof b?"keyup-change."+b:"keyup-change";a.on("keydown",function(){void 0===$.data(a,c)&&$.data(a,c,a.val())}),a.on("keyup",function(){var b=$.data(a,c);void 0!==b&&a.val()!==b&&($.removeData(a,c),a.trigger(d))})},FUXI.Utils.hasVerticalScroll=function(a){return FUXI.Utils.hasScroll(a,"y")},FUXI.Utils.hasHorizontalScroll=function(a){return FUXI.Utils.hasScroll(a,"y")},FUXI.Utils.hasScroll=function(a,b){var c=$(a),d=c.css("overflow-x"),e=c.css("overflow-y"),f="hidden",g="visible",h="scroll",i=b[3];if(i){if("x"===i){if(d===f||d===g)return!1;if(d===h)return!0}else if("y"===i){if(e===f||e===g)return!1;if(e===h)return!0}}else{if(d===e&&(e===f||e===g))return!1;if(d===h||e===h)return!0}return c.innerHeight()<a.scrollHeight||c.innerWidth()<a.scrollWidth},FUXI.Utils.measureScrollbar=function(){var a=$(document.body),b=document.createElement("div");b.className="fx-scrollbar-measure",a.append(b);var c=b.offsetWidth-b.clientWidth;return a[0].removeChild(b),c},FUXI.Utils.Polyfills={},FUXI.Utils.Polyfills.init=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(1/0===Math.abs(f)&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1}),Modernizr.input.placeholder||($("[placeholder]").focus(function(){var a=$(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);(""==a.val()||a.val()==a.attr("placeholder"))&&(a.addClass("placeholder"),a.val(a.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);a.val()==a.attr("placeholder")&&a.val("")})})),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}())},FUXI.Header={},FUXI.Header.init=function(){"use strict";var a=$("#fx-header"),b=$(".fx-menu"),c=$("[data-toggle=collapse]"),d=$("#fx-system-trigger"),e=function(){b.filter(".in").collapse("hide").parent().find("a[data-toggle]").addClass("collapsed")};$(document).on("click",function(b){a.find("nav").find(b.target).length||e()}),c.on("click",function(){return b.filter(".collapsing").length?!1:void 0}),b.on("show.bs.collapse",function(){e()}),d.popover({html:!0,content:$("#fx-system-popover").html()}),d.on("show.bs.popover",function(){e()})},FUXI.Footer={},FUXI.Footer.init=function(){"use strict";var a=$(".fx-main-footer"),b=$(".fx-about"),c=$(".fx-version").html(""),d="VERS√ÉO TRIAL";"undefined"!=typeof FUXI.Resources&&(d=FUXI.Resources.Version),1===c.length?c.append(d):1===b.length?b.prepend('<span class="fx-version">'+d+"</span>"):a.append('<div class="fx-about"><span class="fx-version">'+d+"</span></div>")},FUXI.Splitter={},FUXI.Splitter.init=function(a){"use strict";function b(a){a.isResizable=!!$.fn.resizable,"left"===a.position||"right"===a.position?(a.resizeMaxWidth=a.$splitterEl.data("splitter-resize-max-width")||a.$sidebarEl.outerWidth()||"250",a.resizeMinWidth=a.$splitterEl.data("splitter-resize-min-width")||a.$sidebarEl.outerWidth()||"250"):("top"===a.position||"bottom"===a.position)&&(a.resizeMaxHeight=a.$splitterEl.data("splitter-resize-max-height")||a.$sidebarEl.outerHeight()||"250",a.resizeMinHeight=a.$splitterEl.data("splitter-resize-min-height")||a.$sidebarEl.outerHeight()||"250"),a.resizableHandles="",a.resizableResize=null,a.resizableStart=function(){a.$splitterEl.addClass("fx-sidebar-resizing")},a.resizableStop=function(){c(a),a.$splitterEl.removeClass("fx-sidebar-resizer-limit fx-sidebar-resizing")},a.resizableCreate=function(){$(this).parent().on("resize",function(a){a.stopPropagation()})}}function c(a){switch(a.position){case"top":break;case"left":a.delta=a.$sidebarEl.outerWidth(),a.basePos="auto"===a.$sidebarEl.css("left")?0:parseInt(a.$sidebarEl.css("left"),10),a.CSSDefsExpanded.sidebarEl={left:a.basePos},a.CSSDefsExpanded.contentEl={left:a.basePos+a.delta+a.aux},a.CSSDefsCollapsed.sidebarEl={left:a.basePos+a.offset-a.delta},a.CSSDefsCollapsed.contentEl={left:a.basePos+a.offset+a.aux},a.CSSDefsHidden.sidebarEl={left:a.basePos},a.CSSDefsHidden.contentEl={left:a.basePos};break;case"bottom":a.delta=a.$sidebarEl.outerHeight(),a.contentBasePos="auto"===a.$contentEl.css("top")?0:parseInt(a.$contentEl.css("top"),10),a.CSSDefsExpanded.sidebarEl={bottom:0},a.CSSDefsExpanded.contentEl={top:a.contentBasePos,bottom:a.delta+a.aux},a.CSSDefsCollapsed.sidebarEl={bottom:a.offset-a.delta},a.CSSDefsCollapsed.contentEl={top:a.contentBasePos,bottom:a.offset+a.aux},a.CSSDefsHidden.sidebarEl={bottom:0},a.CSSDefsHidden.contentEl={bottom:0};break;case"right":a.delta=a.$sidebarEl.outerWidth(),a.basePos="auto"===a.$sidebarEl.css("right")?0:parseInt(a.$sidebarEl.css("right"),10),a.CSSDefsExpanded.sidebarEl={right:a.basePos},a.CSSDefsExpanded.contentEl={right:a.basePos+a.delta+a.aux},a.CSSDefsCollapsed.sidebarEl={right:a.basePos+a.offset-a.delta},a.CSSDefsCollapsed.contentEl={right:a.basePos+a.offset+a.aux},a.CSSDefsHidden.sidebarEl={right:a.basePos},a.CSSDefsHidden.contentEl={right:a.basePos}}}var d="minimizar\nsidebar",e="maximizar\nsidebar",f=function(a,f,g,h,i,j,k){var l=this;switch(this.$splitterEl=$(a),this.$parentEl=$(f),this.$sidebarEl=$(g),this.$contentEl=$(h),this.position=i||"left",this.collapsed=j||!1,this.offset=+k||40,this.delta=void 0,this.basePos=0,this.CSSDefsExpanded={},this.CSSDefsCollapsed={},this.CSSDefsHidden={},this.aux=8,b(this),"undefined"!=typeof FUXI.Resources&&(d=FUXI.Resources.Splitter.MinimizeSidebar,e=FUXI.Resources.Splitter.MaximizeSidebar),this.$splitterEl.attr("data-original-title",this.collapsed?e:d),c(l),this.position){case"top":break;case"left":this.$contentEl.css("left",this.collapsed?this.basePos:this.basePos+this.delta+this.aux),this.$splitterEl.tooltip({placement:"right"}),this.isResizable&&(this.resizableHandles="e",this.resizableResize=function(a,b){l.$contentEl.css("left",b.size.width+l.aux+l.basePos),l.$splitterEl.removeClass("fx-sidebar-resizer-limit"),(b.size.width===l.resizeMaxWidth||b.size.width===l.resizeMinWidth)&&l.$splitterEl.addClass("fx-sidebar-resizer-limit"),l.emitResized.call(l)});break;case"bottom":this.$parentEl.css("overflow","hidden"),this.$contentEl.css({top:this.contentBasePos,bottom:this.delta+this.aux}),this.$splitterEl.tooltip({placement:"top"}),this.isResizable&&(this.resizableHandles="n",this.resizableResize=function(a,b){$(this).css("top","auto"),l.$splitterEl.removeClass("fx-sidebar-resizer-limit"),(b.size.height===l.resizeMaxHeight||b.size.height===l.resizeMinHeight)&&l.$splitterEl.addClass("fx-sidebar-resizer-limit"),l.emitResized.call(l)});break;case"right":this.$contentEl.css("right",this.collapsed?this.basePos:this.basePos+this.delta+this.aux),this.$splitterEl.tooltip({placement:"left"}),this.isResizable&&(this.resizableHandles="w",this.resizableResize=function(a,b){$(this).css("left","auto"),l.$contentEl.css("right",b.size.width+l.aux+l.basePos),l.$splitterEl.removeClass("fx-sidebar-resizer-limit"),(b.size.width===l.resizeMaxWidth||b.size.width===l.resizeMinWidth)&&l.$splitterEl.addClass("fx-sidebar-resizer-limit"),l.emitResized.call(l)})}this.isResizable&&(this.$sidebarEl.resizable({handles:this.resizableHandles,resize:this.resizableResize,maxWidth:this.resizeMaxWidth,minWidth:this.resizeMinWidth,maxHeight:this.resizeMaxHeight,minHeight:this.resizeMinHeight,stop:this.resizableStop,start:this.resizableStart,create:this.resizableCreate}),this.$sidebarEl.find(".ui-resizable-handle").on("mouseover",function(){l.$splitterEl.addClass("fx-sidebar-over")}).on("mouseout",function(){l.$splitterEl.removeClass("fx-sidebar-over")})),this.collapsed&&this.collapse(),this.$splitterEl.off("click.fuxi.splitter").on("click.fuxi.splitter",$.proxy(this.toggle,this))};f.prototype.toggle=function(){this.collapsed?this.expand():this.collapse()},f.prototype.expand=function(){this.$sidebarEl.animate(this.CSSDefsExpanded.sidebarEl,180),this.$contentEl.animate(this.CSSDefsExpanded.contentEl,180,$.proxy(this.emitToggled,this)),this.$splitterEl.tooltip("hide"),this.$splitterEl.attr("data-original-title",d),this.$sidebarEl.removeClass("fx-splitter-collapsed"),this.collapsed=!1,this.isResizable&&this.$sidebarEl.resizable("enable")},f.prototype.collapse=function(){this.$sidebarEl.animate(this.CSSDefsCollapsed.sidebarEl,180),this.$contentEl.animate(this.CSSDefsCollapsed.contentEl,180,$.proxy(this.emitToggled,this)),this.$splitterEl.tooltip("hide"),this.$splitterEl.attr("data-original-title",e),this.$sidebarEl.addClass("fx-splitter-collapsed"),this.collapsed=!0,this.isResizable&&this.$sidebarEl.resizable("disable")},f.prototype.hide=function(){this.$sidebarEl.animate(this.CSSDefsHidden.sidebarEl,180).hide(),this.$contentEl.animate(this.CSSDefsHidden.contentEl,180)},f.prototype.show=function(){this.$sidebarEl.show().animate(this.CSSDefsExpanded.sidebarEl,180),this.$contentEl.animate(this.CSSDefsExpanded.contentEl,180),this.$splitterEl.tooltip("hide"),this.$splitterEl.attr("data-original-title",d),this.$sidebarEl.removeClass("fx-splitter-collapsed"),this.collapsed=!1},f.prototype.emitToggled=function(){this.$splitterEl.trigger({type:"toggled.splitter.fuxi",state:this.collapsed?"collapsed":"expanded"})},f.prototype.emitResized=function(){this.$splitterEl.trigger({type:"resized.splitter.fuxi"})};var g=function(){$('[data-toggle="splitter"]').each(function(){var a=$(this),b=new f("#"+this.id,a.attr("data-splitter-parent"),a.attr("data-splitter-sidebar"),a.attr("data-splitter-content"),a.attr("data-splitter-position"),void 0!==a.attr("data-splitter-collapsed"),a.attr("data-splitter-offset"));a.data("splitter",b)})};"undefined"==typeof a&&(a=!1),a?g():$(window).on("load",function(){g()})},FUXI.Presets={},FUXI.Presets.DataTables={iDisplayLength:10,sDom:'rt<"dataTable-table-info"li><"dataTable-pagination-wrapper"p>',sPaginationType:"input",bAutoWidth:!1,bRetrieve:!0,aaSorting:[],bSortCellsTop:!1,oLanguage:{sUrl:"/fuxi/lib/datatables-pt/1.9/resources/datatables_pt-PT.json"}},FUXI.Presets.DataTablesColFilter={sPlaceHolder:"head:after"},FUXI.Presets.DataTablesRowGrouping={bHideGroupingColumn:!1,bHideGroupingOrderByColumn:!1,bExpandableGrouping:!0},FUXI.Presets.jsTree={plugins:["themes","html_data","checkbox","dnd"],themes:{theme:"fuxi",icons:!1}},FUXI.ExpandableForm={};var $formBlockCollapsed,$formBlockControls;FUXI.ExpandableForm.init=function(){"use strict";$formBlockCollapsed=$(".fx-form-block.collapsed"),$formBlockControls=$(".fx-form-block-controls");var a=$(".fx-form-block h6"),b=$(".fx-expandable-form-blocks h6");$formBlockCollapsed.find(a).nextAll("p").hide(),$formBlockCollapsed.find(a).children(".caret").addClass("collapse"),$formBlockCollapsed.find(a).parent().next($formBlockControls).addClass("fx-toggle-form-block-controls"),b.off("click.fuxi.utils").on("click.fuxi.utils",function(){$(this).nextAll("p").slideToggle("fast"),$(this).parent().next($formBlockControls).children().toggleClass("hidden"),$(this).parent().next($formBlockControls).toggleClass("fx-toggle-form-block-controls"),$(this).parent().parent().toggleClass("collapsed"),$(this).children(".caret").toggleClass("collapse")})},FUXI.ExpandableForm.openGroup=function(a){$(a).nextAll("p").slideToggle("fast"),$(a).parent().next($formBlockControls).children().toggleClass("hidden"),$(a).parent().next($formBlockControls).toggleClass("fx-toggle-form-block-controls"),$(a).parent().parent().toggleClass("collapsed"),$(a).children(".caret").toggleClass("collapse")},FUXI.FixedPositions={},FUXI.FixedPositions._initCalled=!1,FUXI.FixedPositions.init=function(a,b,c){"use strict";FUXI.FixedPositions._initCalled=!0;var d=function(a){return $(a).closest('[data-fix-to="top"]')};$('[data-fix-to="top"]').not('[data-fix-to-top="true"]').each(function(){var a=$(this),c=a.next(),e=void 0!==a.data("render-shadow")?a.data("render-shadow"):!0;if(a.data("data-fix-to-top","true"),a.is(":hidden")&&($('a[data-toggle="tab"]').off("shown.bs.tab.fx.fp").on("shown.bs.tab.fx.fp",function(a){FUXI.FixedPositions.reload(d(a.target),b)}),$(".modal").off("shown.bs.modal.fx.fp").on("shown.bs.modal.fx.fp",function(a){FUXI.FixedPositions.setContext(a.target),FUXI.FixedPositions.reload(null,b)})),e){var f=null;c.off("scroll.fx.fp").on("scroll.fx.fp",function(){null!==f&&clearTimeout(f),f=setTimeout(function(){c.scrollTop()>7&&!a.hasClass("fx-sticky-shadow")?a.addClass("fx-sticky-shadow"):c.scrollTop()<=7&&a.hasClass("fx-sticky-shadow")&&a.removeClass("fx-sticky-shadow")},250)})}}),$('[data-toggle="splitter"]').off("toggled.splitter.fuxi.fp").on("toggled.splitter.fuxi.fp",function(a){FUXI.FixedPositions.setContext($(a.target).data("splitter-sidebar")),FUXI.FixedPositions.reload(null,b)}),$(".fx-advanced-search").off("shown.bs.collapse.fx.fp").off("hidden.bs.collapse.fx.fp").on("shown.bs.collapse.fx.fp hidden.bs.collapse.fx.fp",function(a){FUXI.FixedPositions.reload(d(a.target),b)}),$(".fx-form-search").off("shown.bs.collapse.fx.fp").off("hidden.bs.collapse.fx.fp").on("shown.bs.collapse hidden.bs.collapse",function(a){setTimeout(function(){FUXI.FixedPositions.reload(d(a.target),b)},100)}),"undefined"==typeof a&&(a=!1),"undefined"==typeof c&&(c=!0),a?c&&FUXI.FixedPositions.reload(null,b):FUXI.FixedPositions.onWindowLoad(function(){FUXI.FixedPositions.reload.call(this,null,b)}),FUXI.FixedPositions.onWindowResize(function(){FUXI.FixedPositions.reload.call(this,null,b)})},FUXI.FixedPositions._context="",FUXI.FixedPositions.setContext=function(a){FUXI.FixedPositions._context=a},FUXI.FixedPositions.getContext=function(){return FUXI.FixedPositions._context},FUXI.FixedPositions._calcSizes=function(a,b){var c=a.closest("[data-fix-to-top-parent]"),d=c.length>0?c.first():a.parent(),e=a.next(),f=void 0!==a.data("calc-height")?a.data("calc-height"):!0,g=a.siblings(".fx-splitter-sidebar.bottom"),h=0;if(g.length>0){var i=(g.position(),g.find('[data-toggle="splitter"]').data("splitter")),j=i.offset,k=10;h=i.collapsed?j+k:g.outerHeight(!0)+k}e.css("margin-top",a.outerHeight()),f&&e.css({height:d.height()-a.outerHeight()-h,"overflow-y":"auto"}),b&&b()},FUXI.FixedPositions.reload=function(a,b){return FUXI.FixedPositions._initCalled?(a&&a.length>0?FUXI.FixedPositions._calcSizes(a,b):$('[data-fix-to="top"]',FUXI.FixedPositions.getContext()).each(function(){FUXI.FixedPositions._calcSizes($(this),b)}),void FUXI.FixedPositions.setContext("")):!1},FUXI.FixedPositions._winLoadFuncs=[],FUXI.FixedPositions.onWindowLoad=function(a){var b=$.grep(FUXI.FixedPositions._winLoadFuncs,function(b){return""+b==""+a}),c=b.length>0;c||(FUXI.FixedPositions._winLoadFuncs.push(""+a),$(window).on("load",a))},FUXI.FixedPositions._winResizeFuncs=[],FUXI.FixedPositions.onWindowResize=function(a){var b=$.grep(FUXI.FixedPositions._winResizeFuncs,function(b){return""+b==""+a}),c=b.length>0;if(!c){FUXI.FixedPositions._winResizeFuncs.push(""+a);var d;$(window).on("resize",function(){clearTimeout(d),d=setTimeout(function(){a()},250)})}},FUXI.OffscreenMenu={},FUXI.OffscreenMenu.init=function(){"use strict";var a=function(a){this.$menu=$(a),this.$togglersAreaDrag=this.$menu.find(".fx-offscreen-menu-drag"),this.$togglersArea=this.$togglersAreaDrag.find(".fx-offscreen-menu"),this.$togglers=this.$togglersArea.find("a"),this.$detach=this.$menu.find('[data-menu="detach"]'),this.$reattach=this.$menu.find('[data-menu="reattach"]'),this.collapsed=!0,this.detached=!1,this.dragging=!1,this.$togglers.on("click",$.proxy(this.toggle,this)),this.$detach.on("click",$.proxy(this.detach,this)),this.$reattach.on("click",$.proxy(this.reattach,this)),this.scrollbarWidth=0,FUXI.Utils.hasVerticalScroll(this.$menu.parent().get(0))&&(this.scrollbarWidth=FUXI.Utils.measureScrollbar(),this.$menu.css({right:this.scrollbarWidth+"px"})),this.$menu.draggable({disabled:!0,delay:150,handle:".fx-offscreen-dock-title",containment:"document"});var b=this;this.$togglersAreaDrag.draggable({axis:"y",containment:"parent",delay:150,start:function(){b.dragging=!0},stop:function(){setTimeout(function(){b.dragging=!1},150)}}),$(document).on("click",$.proxy(function(a){var b=$(a.target);"BODY"!=b.prop("tagName")&&(this.$menu.is(a.target)||0!==this.$menu.has(a.target).length||this.collapse())},this)),this.$togglers.on("shown.bs.tab",$.proxy(function(){var a=this.getActiveOffScreenTab();FUXI.FixedPositions.setContext(a),FUXI.FixedPositions.reload()},this))};a.prototype.allowResize=function(a){if(a){var b=this;this.$menu.resizable({minHeight:400,minWidth:280,maxHeight:900,maxWidth:1080,create:function(){$(this).parent().on("resize",function(a){a.stopPropagation()})},start:function(a,c){var d=c.size.height-Math.floor(b.$togglersAreaDrag.position().top)-b.$togglersAreaDrag.outerHeight(!0),e=100*d/c.size.height;b.$togglersAreaDrag.css({bottom:e+"%",top:"auto"})},resize:function(){var a=b.getActiveOffScreenTab();FUXI.FixedPositions.setContext(a),FUXI.FixedPositions.reload()},stop:function(){var a=b.$togglersAreaDrag.position().top;b.$togglersAreaDrag.css({bottom:"auto",top:a})}})}else this.$menu.resizable("destroy")},a.prototype.detach=function(){this.detached||(this.$menu.addClass("detached").removeAttr("style").draggable("option","disabled",!1),this.$togglersAreaDrag.removeAttr("style"),this.$detach.addClass("hidden"),this.$reattach.removeClass("hidden"),this.emitAttachEvent(),this.allowResize(!0),this.detached=!0)},a.prototype.reattach=function(){this.detached&&(this.$menu.removeClass("detached").removeAttr("style").css({right:this.scrollbarWidth+"px"}).addClass("in fx-offscreen-collapsed").draggable("option","disabled",!0),this.$togglersAreaDrag.removeAttr("style"),this.$detach.removeClass("hidden"),this.$reattach.addClass("hidden"),this.emitAttachEvent(),this.allowResize(!1),this.collapsed=!0,this.detached=!1)},a.prototype.toggle=function(a){this.dragging?this.dragging=!1:($(a.delegateTarget).tab("show"),this.collapsed&&!this.detached&&(this.$menu.animate({width:350},200,$.proxy(this.emitToggleEvent,this)).addClass("in").removeClass("fx-offscreen-collapsed"),this.collapsed=!1))},a.prototype.collapse=function(){this.collapsed||this.detached||(this.$menu.animate({width:0},200,$.proxy(this.emitToggleEvent,this)).removeClass("in").addClass("fx-offscreen-collapsed"),this.$togglersArea.find("li.active").removeClass("active"),this.collapsed=!0)},a.prototype.emitToggleEvent=function(){this.$menu.trigger({type:"toggled.offscreenmenu.fuxi",state:this.collapsed?"collapsed":"expanded"});var a=this.getActiveOffScreenTab();FUXI.FixedPositions.setContext(a),FUXI.FixedPositions.reload()},a.prototype.emitAttachEvent=function(){this.$menu.trigger({type:"attach.offscreenmenu.fuxi",state:this.detached?"reattach":"detach"});var a=this.getActiveOffScreenTab();FUXI.FixedPositions.setContext(a),FUXI.FixedPositions.reload()},a.prototype.getActiveOffScreenTab=function(){return this.$togglersArea.find("li.active a").data("target")},$('[data-menu="offscreen-menu"]').each(function(){new a(this)})},FUXI.BlockUiDefaults={},FUXI.BlockUiDefaults.init=function(){"use strict";$.blockUI.defaults={message:'<div class="fx-block-wrapper"><div class="fx-ico-loading fx-ico-loading-m"><span class="sr-only">A carregar...</span></div><div class="fx-ico-loading-message"<p>a carregar conte&uacutedo...</p></div></div>',title:null,draggable:!0,theme:!1,css:{opacity:.6,padding:"10px",margin:0,width:"20%",top:"40%",left:"45%",textAlign:"center",color:"#666",border:"none",backgroundColor:"transparent",cursor:"wait","-webkit-border-radius":"0","border-radius":"0"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#fff",opacity:.8,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:null,color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1}},FUXI.IconToggler={},FUXI.IconToggler.OnOffIcons=[["fa fa-star","fa fa-star-o"],["fuxicons fuxicons-thumb-tack","fuxicons fuxicons-thumb-tack-o"],["fa fa-lock","fa fa-unlock"]],FUXI.IconToggler.getIconSetByClasses=function(a){for(var b=0,c=FUXI.IconToggler.OnOffIcons.length;c>b;b++)if(FUXI.IconToggler.OnOffIcons[b][0]===a||FUXI.IconToggler.OnOffIcons[b][1]===a)return FUXI.IconToggler.OnOffIcons[b]},FUXI.IconToggler.turnOn=function(a,b){a.removeClass("fx-icon-toggle-off").addClass("fx-icon-toggle-on").find("i").attr("class",b)},FUXI.IconToggler.turnOff=function(a,b){a.removeClass("fx-icon-toggle-on").addClass("fx-icon-toggle-off").find("i").attr("class",b)},FUXI.IconToggler.init=function(){$(document).on("click","[data-fx-icon]",function(){var a,b,c=$(this),d=c.find("i"),e=d.attr("class"),f=d.attr("data-fx-icon-on"),g=d.attr("data-fx-icon-off"),h=c.attr("data-fx-set"),i="all"===c.attr("data-fx-icon"),j=c.hasClass("fx-icon-toggle-on");f&&g||(a=FUXI.IconToggler.getIconSetByClasses(e),f=a[0],g=a[1],d.attr("data-fx-icon-on",f).attr("data-fx-icon-off",g)),h&&(b=$("[data-fx-icon][data-fx-set="+h+"]").not("[data-fx-icon=all]")),j?(FUXI.IconToggler.turnOff(c,g),h&&(i?FUXI.IconToggler.turnOff(b,g):FUXI.IconToggler.turnOff($("[data-fx-icon=all][data-fx-set="+h+"]"),g))):(FUXI.IconToggler.turnOn(c,f),h&&(i?FUXI.IconToggler.turnOn(b,f):b.not(".fx-icon-toggle-on").length||FUXI.IconToggler.turnOn($("[data-fx-icon=all][data-fx-set="+h+"]"),f)))})},FUXI.CheckboxToggler={},FUXI.CheckboxToggler.init=function(){$(document).on("change","[type=checkbox][data-fx-check]",function(){var a,b=$(this),c=b.attr("data-fx-set"),d="all"===b.attr("data-fx-check"),e=b.prop("checked"),f=b.parent().is("td, th");c&&(a=$("[data-fx-check][data-fx-set="+c+"]").not("[data-fx-check=all]")),e?d?(a.prop("checked",!0),f&&a.each(function(){$(this).parent().parent().addClass("selected")})):(0===a.not(":checked").length&&$("[data-fx-check=all][data-fx-set="+c+"]").prop("checked",!0),f&&b.parent().parent().addClass("selected")):d?(a.prop("checked",!1),f&&a.each(function(){$(this).parent().parent().removeClass("selected")})):($("[data-fx-check=all][data-fx-set="+c+"]").prop("checked",!1),f&&b.parent().parent().removeClass("selected"))})},FUXI.Wizard={},FUXI.Wizard.modeEnum={EDIT:"EDIT",INSERT:"INSERT",VIEW:"VIEW"},FUXI.Wizard.steps={blockedClassName:"blocked",decisionClassName:"step-decision"},FUXI.Wizard.toggleDynamicSteps=function(a){var b=a.closest("[data-wizard]"),c=b.data("wizard"),d=a.data("dynamic-decider"),e=a.data().hasOwnProperty("blockStep")?a.data("block-step"):!0,f=a.is(":checked"),g=$("nav li[data-dynamic-parent-decider="+d+"]",b),h=$(".fx-wizardsteps-content[data-dynamic-parent-decider="+d+"]",b);if(g.removeClass(FUXI.Wizard.steps.blockedClassName),e&&g.addClass(FUXI.Wizard.steps.blockedClassName),f)g.removeClass("hidden").removeAttr("data-dynamic-step"),h.removeAttr("data-dynamic-step");else{g.addClass("hidden").attr("data-dynamic-step",""),h.attr("data-dynamic-step","");$.each(g,function(a,b){var c=($(b),$("section[data-dynamic-parent-decider="+d+"]").find("input[data-dynamic-decider]"));$.each(c,function(a,b){var c=$(b);$(b).is(":checked")&&c.trigger("click")})})}c.handleBehaviors()},FUXI.Wizard.rearrangeNumeration=function(a){var b=$(".fx-nav-link",a),c=$(".fx-wizardsteps-content",a),d=b.not("[data-dynamic-step]").find(".fx-wizardstep-number"),e=1;d.each(function(a){e=a+1,$(this).text(e),c.not("[data-dynamic-step]").eq(a).find(".fx-wizardstep-number").text(e)})},FUXI.Wizard.init=function(a){var b={isAsync:!1,mode:FUXI.Wizard.modeEnum.INSERT,validateOnPrevious:!1,gotoStopOnError:!1},c={isValid:!0,message:""},d=function(c){this.$wizardEl=c,this.options=$.extend({},b,a);var d=$(this.$wizardEl).data("wiz-mode");this.options.mode=d||this.options.mode;var e=$(this.$wizardEl).data("validate-on-previous");this.options.validateOnPrevious=e||this.options.validateOnPrevious,this.step=this.options.mode!==FUXI.Wizard.modeEnum.INSERT?parseInt($(this.$wizardEl).data("step-opened"))||1:1,this.currentStep=this.step,this.clientValidator=this.$wizardEl.data("client-validator"),this.$wizardNavItems=$(".fx-nav-link",this.$wizardEl),this.$wizStepsContent=$(".fx-wizardsteps-content",this.$wizardEl),this.$wizStepInfo=$(".fx-wizardstep-info",this.$wizardEl),this.$btPrev=$($(this.$wizardEl).data("wiz-prev")),this.$btNext=$($(this.$wizardEl).data("wiz-next")),this.$btComplete=$($(this.$wizardEl).data("wiz-complete")),this.$btNext.off("click.fuxi.wizard.next").on("click.fuxi.wizard.next",$.proxy(this.next,this)),this.$btPrev.off("click.fuxi.wizard.prev").on("click.fuxi.wizard.prev",$.proxy(this.prev,this)),this.$btComplete.off("click.fuxi.wizard.complete").on("click.fuxi.wizard.complete",$.proxy(this.complete,this)),$(".fx-nav-items",this.$wizardEl).off("click.fuxi.wizard.goto").on("click.fuxi.wizard.goto",".fx-nav-link",$.proxy(this.goto,this)),this.handleBehaviors(),$(".fx-wizardstep-error").off("click.fuxi.wizard.error").on("click.fuxi.wizard.error",function(a){a.stopPropagation()})};d.prototype.reload=function(){this.$wizardNavItems=$(".fx-nav-link",this.$wizardEl),this.handleButtonsBehavior(this.currentStep)},d.prototype.stepIsValid=function(a){var b=c;b.isValid=!1;try{a=a||this.currentStep;var d=this.getStepClientValidator(a);d&&(b=FUXI.Utils.executeFunctionByName(d,window,{step:a,Wizard:this}))}catch(e){}return b},d.prototype.getIndex=function(a){var b=this.$wizardNavItems.not("[data-dynamic-step]").eq(a-1),c=this.$wizardNavItems.not("[data-dynamic-step]").index(b);return c},d.prototype.handleButtonsBehavior=function(a){var b=this.$wizardNavItems.not("[data-dynamic-step]").length;1===a&&(this.$btPrev.addClass("disabled"),this.$btNext.removeClass("disabled"),this.options.mode!==FUXI.Wizard.modeEnum.EDIT&&(this.$btComplete.addClass("btn-default disabled").removeClass("btn-primary"),this.$btNext.removeClass("btn-default").addClass("btn-primary"))),a>1&&this.$btPrev.removeClass("disabled"),a>1&&b>=a&&(this.$btNext.removeClass("disabled"),this.options.mode!==FUXI.Wizard.modeEnum.EDIT&&(this.$btComplete.addClass("btn-default disabled").removeClass("btn-primary"),this.$btNext.removeClass("btn-default").addClass("btn-primary"))),a===b&&(this.$btComplete.removeClass("btn-default disabled"),this.$btComplete.addClass("btn-primary"),this.$btNext.removeClass("btn-primary"),this.$btNext.addClass("btn-default disabled"))},d.prototype.handleStepsBehavior=function(a){var b=this.getIndex(a),c=this.$wizardNavItems.not("[data-dynamic-step]").eq(this.currentStep-1),d=this.$wizardNavItems.not("[data-dynamic-step]").eq(this.step-1),e=this.$wizStepsContent.addClass("hidden").not("[data-dynamic-step]");
e.eq(b).removeClass("hidden"),c.closest("ul").hasClass("fx-wizard-substeps")||d.closest("ul").hasClass("fx-wizard-substeps")?this.handleSubStep(c,d):(c.removeClass(FUXI.Wizard.steps.blockedClassName).removeClass("active"),d.removeClass(FUXI.Wizard.steps.blockedClassName).addClass("active"))},d.prototype.handleSubStep=function(a,b){a.removeClass("active").closest(".fx-nav-link-with-substeps").removeClass("active"),b.removeClass(FUXI.Wizard.steps.blockedClassName).addClass("active").closest(".fx-nav-link-with-substeps").removeClass(FUXI.Wizard.steps.blockedClassName).addClass("active"),b.closest("ul").hasClass("fx-wizard-substeps")?b.closest(".fx-nav-link-with-substeps").removeClass(FUXI.Wizard.steps.blockedClassName).addClass("active"):(a.closest(".fx-nav-link-with-substeps").removeClass("active"),b.removeClass(FUXI.Wizard.steps.blockedClassName).addClass("active"))},d.prototype.getStepClientValidator=function(a){var b=this.getIndex(a||this.currentStep);return this.$wizardNavItems.not("[data-dynamic-step]").eq(b).data("client-validator")||this.clientValidator||!1},d.prototype.next=function(){this.currentStep=this.step;var a=this.options.mode!==FUXI.Wizard.modeEnum.VIEW?this.stepIsValid():c;if(a.isValid){this.markStepAsValid(),this.step++,this.handleBehaviors();var b=this.getIndex(this.step);this.scrollToStep(this.$wizardNavItems.not("[data-dynamic-step]").eq(b)),b=this.getIndex(this.currentStep),this.$wizardNavItems.not("[data-dynamic-step]").eq(b).find(this.$wizStepInfo).removeClass("hidden")}else this.markStepAsInvalid(null,a.message);this.emitNextEvent(a.isValid)},d.prototype.prev=function(){this.currentStep=this.step;var a=c;if(this.options.validateOnPrevious&&this.options.mode!==FUXI.Wizard.modeEnum.VIEW){var a=this.stepIsValid();a.isValid?(this.markStepAsValid(),this.step--,this.handleBehaviors()):this.markStepAsInvalid(null,a.message)}else this.step--,this.handleBehaviors();var b=this.getIndex(this.step);this.scrollToStep(this.$wizardNavItems.not("[data-dynamic-step]").eq(b)),this.emitPrevEvent(a.isValid)},d.prototype.complete=function(){this.currentStep=this.step;var a=this.options.mode!==FUXI.Wizard.modeEnum.VIEW?this.stepIsValid():c;a.isValid?this.markStepAsValid():this.markStepAsInvalid(null,a.message),this.emitCompleteEvent(a.isValid)},d.prototype.goto=function(b){if(a.mode!==FUXI.Wizard.modeEnum.EDIT&&$(b.currentTarget).hasClass(FUXI.Wizard.steps.blockedClassName))return!1;this.currentStep=this.step;var c=this.$wizardNavItems.not("[data-dynamic-step]").index($(b.currentTarget));if(this.step=c+1,this.currentStep===this.step)return!1;if(a.mode===FUXI.Wizard.modeEnum.VIEW)return this.handleBehaviors(),void this.emitGoToEvent(isValid);if(this.step<this.currentStep&&this.options.validateOnPrevious)for(var d=this.currentStep;d>this.step;d--){var e=this.validateStep(d);if(!e.isValid&&this.options.gotoStopOnError)break}else if(this.step>this.currentStep)for(var d=this.currentStep;d<this.step;d++){var e=this.validateStep(d);if(!e.isValid&&this.options.gotoStopOnError)break}this.handleBehaviors(),this.emitGoToEvent()},d.prototype.validateStep=function(a){var b=this.stepIsValid(a);return b.isValid?this.markStepAsValid(a):(this.markStepAsInvalid(a,b.message),this.options.gotoStopOnError&&(this.step=a)),b},d.prototype.handleBehaviors=function(){this.handleStepsBehavior(this.step),this.handleButtonsBehavior(this.step)},d.prototype.emitNextEvent=function(a){this.$btNext.trigger({type:"next.wizard.fuxi",stepIsValid:a,currentStep:this.currentStep,targetStep:this.step,Wizard:this.$wizardEl.data("wizard")})},d.prototype.emitPrevEvent=function(a){this.$btPrev.trigger({type:"prev.wizard.fuxi",stepIsValid:a,currentStep:this.currentStep,targetStep:this.step,Wizard:this.$wizardEl.data("wizard")})},d.prototype.emitCompleteEvent=function(a){this.$btComplete.trigger({type:"complete.wizard.fuxi",stepIsValid:a,currentStep:this.currentStep,targetStep:this.step,Wizard:this.$wizardEl.data("wizard")})},d.prototype.emitGoToEvent=function(){var a=this.getIndex(this.step);this.$wizardNavItems.eq(a).trigger({type:"goto.wizard.fuxi",currentStep:this.currentStep,targetStep:this.step,Wizard:this.$wizardEl.data("wizard")})},d.prototype.markStepAsInvalid=function(a,b){var c=this.getIndex(a||this.currentStep),d=this.$wizardNavItems.not("[data-dynamic-step]").eq(c);d.attr("data-invalid",!0).find(".fx-wizardstep-error").attr("data-content",b).removeClass("hidden")},d.prototype.markStepAsValid=function(a){var b=this.getIndex(a||this.currentStep),c=this.$wizardNavItems.not("[data-dynamic-step]").eq(b);c.removeAttr("data-invalid").find(".fx-wizardstep-error").attr("data-content","").addClass("hidden")},d.prototype.setSummary=function(a,b){var c=this.getIndex(a),d=this.$wizardNavItems.eq(c).find(this.$wizStepInfo);if(d)if(d.html(""),"object"==typeof b){d.append($("<ul />").addClass("fx-wizardstep-info-items"));var f=d.find(".fx-wizardstep-info-items");$.each(b,function(a,b){f.append(e(b))})}else""!==b&&d.html(b)},d.prototype.getCurrentStepContainer=function(a){var b=this.getIndex(a),c=this.$wizStepsContent.not("[data-dynamic-step]").eq(b);return c},d.prototype.scrollToStep=function(a){var b=$(".fx-nav-items",this.$wizardEl).parent("nav");b.animate({scrollTop:parseInt(a.offset().top)},750)};var e=function(a){var b;return b=a.stepDecision?$("<li />").addClass(FUXI.Wizard.steps.decisionClassName).append(a.title+": ").append("<span>"+a.value+"</span>"):$("<li />").append(a.title+": ").append("<span>"+a.value+"</span>")},f=function(){$("[data-wizard]").each(function(){var a=$(this),b=new d(a);a.data("wizard",b)})};a.isAsync?f():$(window).on("load",function(){f()})},FUXI.SliderTabs={},FUXI.SliderTabs.init=function(a){var b='<li class="fx-status fx-dismissible fx-sortable" id="{{id}}" title="{{name}}"><a href="#tab{{id}}" data-toggle="tab" id="fx-a-{{id}}" data-tab-id="{{id}}"><i class="fx-ico-loading"></i><span class="fx-tab-title">{{name}}</span></a></li>',c='<button class="fx-del-tab" id="fx-btn-del-{{id}}" title="'+FUXI.Resources.SliderTabs.RemoveTab+'"><i class="glyphicon glyphicon-remove"></i></button>',d='<div style="position:absolute;" class="fx-actions-tab-hldr" ><div class="btn-group dropdown" fx-dropdown-attachToBody><button id="fx-btn-action-{{id}}" type="button" class="fx-actions-tab dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-cog"></i>&nbsp;<i class="caret"></i></button><ul class="dropdown-menu" role="menu" aria-labelledby="single-button">{{actionsList}}</ul></div></div>',e='<span class="fx-status-tab" id="fx-s-{{id}}" title="{{title}}"><i class="fuxicons fuxicons-{{status}} fx-status-{{status}}"></i></span>',f='<li data-tab-target-id="{{id}}"><a data-toggle="tab" id="fx-dd-a-{{id}}" data-tab-id="{{id}}">{{name}}</a></li>',g={isAsync:!1,animateDuration:400,fixedIncrement:80,tabTemplate:b,tabDismissibleTemplate:c,tabActionsTemplate:d,tabStatusTemplate:e,tabDropdownTemplate:f};a=$.extend(!0,{},g,a),$.fn.hasHorizontalScrollBar=function(){var a=this.get(0),b=a.scrollWidth,c=a.offsetWidth,d=b-c;return 2>d?!1:!0};var h=function(a,b){var c,d,e,f,g=b.container,h=$(g),i=$(a),j=!0;if(a===g)throw new Error("Invalid container: is the same as the element");return c=h.width(),e=c*(b.tolerance||0),d=i.position(),f=h.position(),d={left:d.left-f.left,right:d.left-f.left+i.width()-f.left},j=j&&d.left>=-e&&d.left<c+e&&d.right>-e&&d.right<=c+e},i=function(a,b){var c=j(a,b,0);return null==c&&(c=j(a,b,1)),c},j=function(a,b,c){var d=a.$overview.find("li"),e=d.index(b),f=null;if(0==c){if(e<d.length-1&&(f=$(d[e+1]),!k($(f))))return j(a,f,c)}else{var g=e-1;if(g>=0&&(f=$(d[g]),!k(f)))return j(a,f,c)}return f},k=function(a){var b=a.hasClass("disabled")||a.is(":hidden");return!b},l=function(a){var b=this;b.$sliderTabEl=a;var c=b.$sliderTabEl.data("fx-slider-tab-target-content");b.$viewport=b.$sliderTabEl.find("[data-fx-slider-tab-viewport]"),b.$overview=b.$sliderTabEl.find("[data-fx-slider-tab-overview]"),b.$contentContainer=void 0!=c&&c.length>0?$(c):b.$sliderTabEl.find("[data-fx-slider-tab-content-wrapper]"),b.$rightContainer=b.$sliderTabEl.find("[data-fx-slider-tab-right]"),b.$right=b.$rightContainer.children("button"),b.$leftContainer=b.$sliderTabEl.find("[data-fx-slider-tab-left]"),b.$left=b.$leftContainer.children("button"),b.$addActionContainer=b.$sliderTabEl.find("[data-fx-add-action-wrapper]"),b.$add=b.$sliderTabEl.find("[data-fx-slider-tab-add-action]"),b.showAdd=b.$addActionContainer.length>0,b.showAdd&&b.$sliderTabEl.addClass("fx-tabs-with-add-action"),b.$leftContainer.addClass("hidden"),b.$rightContainer.addClass("hidden"),b.$dropdownContainer=b.$sliderTabEl.find("[data-fx-slider-tab-dropdown]"),b.$dropdownTabOverview=b.$sliderTabEl.find("[data-fx-slider-tab-dropdown-overview]"),b.$hintLeft=b.$sliderTabEl.find("[data-fx-slider-tab-hint-left]"),b.$hintRight=b.$sliderTabEl.find("[data-fx-slider-tab-hint-right]"),b.$left.off("mousedown.fuxi.slider.left").on("mousedown.fuxi.slider.left",$.proxy(b.left,b)),b.$left.off("mouseup.fuxi.slider.left").on("mouseup.fuxi.slider.left",$.proxy(b.stopTabsScrolling,null,b,"left")),b.$right.off("mousedown.fuxi.slider.right").on("mousedown.fuxi.slider.right",$.proxy(b.right,b)),b.$right.off("mouseup.fuxi.slider.right").on("mouseup.fuxi.slider.right",$.proxy(b.stopTabsScrolling,null,b,"right")),b.$overview.off("click.fuxi.tab.select").on("click.fuxi.tab.select","li > a",$.proxy(b.selectTab,null,b)),b.$dropdownTabOverview.off("click.fuxi.tab.select").on("click.fuxi.tab.select","li > a",$.proxy(b.selectTab,null,b)),b.$overview.off("click.fuxi.tab.remove").on("click.fuxi.tab.remove","li > .fx-del-tab",$.proxy(b.removeTab,null,b)),b.$inputFilter=b.$dropdownContainer.find(".fx-dropdown-search"),FUXI.Utils.installKeyUpChangeEvent(b.$inputFilter,"fuxi.tab.search"),b.$inputFilter.on("keyup-change.fuxi.tab.search input.fuxi.tab.search paste.fuxi.tab.search",$.proxy(b.filterDropdownTabs,null,b)),b.$dropdownContainer.on("shown.bs.dropdown",function(){setTimeout(function(){b.$inputFilter.focus()},10)}),$(window).on("resize",$.proxy(b.handleResize,b)),b.handleSortable(),b.handleResize()};l.prototype.emitSlideToLeft=function(){var a=this;a.$sliderTabEl.trigger({type:"left.fx.slider.tab",fxslidertabs:a})},l.prototype.left=function(){var b=this;try{var c=b.getScrollIncrement();b.$viewport.stop().animate({scrollLeft:"-="+c},a.animateDuration,"linear",function(){0===$(this).get(0).scrollLeft?b.stopTabsScrolling(b,"left"):b.left()})}catch(d){}},l.prototype.emitSlideToRight=function(){var a=this;a.$sliderTabEl.trigger({type:"right.fx.slider.tab",fxslidertabs:a})},l.prototype.right=function(){var b=this;try{var c=b.getScrollIncrement();b.$viewport.stop().animate({scrollLeft:"+="+c},a.animateDuration,"linear",function(){var a=$(this).get(0).scrollWidth-$(this).width()===$(this).get(0).scrollLeft;a?b.stopTabsScrolling(b,"right"):b.right()})}catch(d){}},l.prototype.stopTabsScrolling=function(a,b){try{switch(a.$viewport.stop(),a.handleButtonsVisibility(),b){case"left":a.emitSlideToLeft();break;case"right":a.emitSlideToRight()}}catch(c){}},l.prototype.slideToTab=function(a){var b=this,c=a.get(0),d=c.offsetLeft,e=h(c,{container:b.$viewport.get(0)});if(!e){var f=0===b.$overview.children("li").index(a)?0:d-10;b.$viewport.animate({scrollLeft:f},"fast","linear",function(){b.handleButtonsVisibility()})}},l.prototype.emitTabSelected=function(a){var b=this;b.$sliderTabEl.trigger({type:"selected.fx.slider.tab",tab:a,fxslidertabs:b})},l.prototype.selectTab=function(a,b){var c=this;if(b.ctrlKey)return b.stopImmediatePropagation(),!0;a.$overview.children("li").removeClass("active"),a.$dropdownTabOverview.children("li").removeClass("active"),a.$contentContainer.children().removeClass("active");var d=$(c).data("tab-id"),e=$("#"+d);e.addClass("active");var f=$(".fx-actions-tab-hldr.show").parent().not(".active");f.find(".fx-actions-tab-hldr.show").removeClass("show"),e.find(".fx-actions-tab-hldr").length&&e.find(".fx-actions-tab-hldr").addClass("show");var g=a.$dropdownTabOverview.children("li[data-tab-target-id="+d+"]");g.addClass("active");var h=a.$contentContainer.children("[data-tab-target-id="+d+"]");h.addClass("active"),a.slideToTab(e),a.emitTabSelected(e)},l.prototype.selectTabById=function(a){var b=$("a[data-tab-id="+a+"]",this.$overview);b.click()},l.prototype.getScrollIncrement=function(){return a.fixedIncrement>0?a.fixedIncrement:this.$viewport.outerWidth(!0)},l.prototype.handleResize=function(){var a=this.$viewport.hasHorizontalScrollBar();a?(this.$add.removeClass("hidden"),this.$addActionContainer.addClass("hidden"),this.$leftContainer.removeClass("hidden"),this.$rightContainer.removeClass("hidden"),this.$dropdownContainer.removeClass("hidden"),this.$hintLeft.removeClass("hidden"),this.$hintRight.removeClass("hidden"),this.$sliderTabEl.addClass("fx-tabs-with-nav"),this.$overview.attr("style","padding-right:0;padding-left:0;")):(this.$add.addClass("hidden"),this.$addActionContainer.removeClass("hidden"),this.$leftContainer.addClass("hidden"),this.$rightContainer.addClass("hidden"),this.$dropdownContainer.addClass("hidden"),this.$hintLeft.addClass("hidden"),this.$hintRight.addClass("hidden"),this.$sliderTabEl.removeClass("fx-tabs-with-nav"),this.$overview.removeAttr("style")),this.showAdd&&(0==this.$overview.find("li").length?this.$viewport.addClass("fx-scrollable-no-tabs"):this.$viewport.removeClass("fx-scrollable-no-tabs")),this.buttonsWidth=this.$leftContainer.outerWidth(!0)+this.$rightContainer.outerWidth(!0),this.handleButtonsVisibility()},l.prototype.handleButtonsVisibility=function(){var a=this.$viewport.get(0).scrollLeft;0===a?this.$left.addClass("disabled"):this.$left.removeClass("disabled");var b=this.$viewport.get(0).scrollWidth-this.$viewport.width()<=a;b?this.$right.addClass("disabled"):this.$right.removeClass("disabled")},l.prototype.emitTabMoved=function(a,b,c){var d=this;d.$sliderTabEl.trigger({type:"moved.fx.slider.tab",tab:a,fromIndex:b,toIndex:c,fxslidertab:d})},l.prototype.handleSortable=function(){var a=0,b=0,c=this,d=null;this.$overview.sortable({axis:"x",items:"li",cancel:".fx-not-sortable",revert:100,distance:0,delay:200,forceHelperSize:!0,forcePlaceholderSize:!0,scrollSensitivity:0,placeholder:"fx-tab-sortable-hint",tolerance:"pointer",start:function(b,c){a=c.item.index(),c.item.addClass("fx-tab-dragging");try{$(document).trigger(FUXI.Utils.eventsName.hideElements)}catch(d){}},stop:function(a,b){b.item.removeClass("fx-tab-dragging")},update:function(e,f){b=f.item.index(),d=f.item,c.emitTabMoved(d,a,b)}}).disableSelection()},l.prototype.emitTabAdded=function(a){var b=this;b.$sliderTabEl.trigger({type:"added.fx.slider.tab",tab:a,fxslidertab:b})},l.prototype.addTab=function(b,c,d,e,f,g,h,i){var j=this,k=a.tabTemplate;if(k=k.replace(new RegExp("{{name}}","ig"),b).replace(new RegExp("{{id}}","ig"),c),g&&g.itemTemplParams)for(var l in g.itemTemplParams)k=k.replace(new RegExp("{{"+l+"}}","ig"),g.itemTemplParams[l]);var m=$(k);(!d||h)&&m.find(".fx-del-tab").remove(),h||m.find(".fx-actions-tab-hldr").remove(),"undefined"===status&&m.find(".fx-status-tab").remove(),e||m.removeClass("fx-sortable").addClass("fx-not-sortable");var n="";if(g&&(m.data("custom-params",JSON.stringify(g)),n=g.dropDownLabel),d&&!h){var o=a.tabDismissibleTemplate.replace(new RegExp("{{id}}","ig"),c);m.append(o)}if(h===!0){var p=a.tabActionsTemplate.replace(new RegExp("{{id}}","ig"),c),q="";"undefined"!=typeof i&&null!==i&&"object"==typeof i&&$.each(i,function(a,b){htmlMenuItem='<li><a href="{{action.action}}">{{action.label}}</a></li>',htmlMenuItem=htmlMenuItem.replace(new RegExp("{{action.action}}","ig"),b.action).replace(new RegExp("{{action.label}}","ig"),b.label),q+=htmlMenuItem}),p=p.replace(new RegExp("{{actionsList}}","ig"),q),m.append(p),m.find(".fx-actions-tab-hldr").on("click",function(a){var b=$(a.currentTarget).hasClass("show"),c=($(a.currentTarget).parent().hasClass("active"),$(".fx-actions-tab-hldr.show").parent().not(".active"));c.find(".fx-actions-tab-hldr.show").removeClass("show"),b||$(a.currentTarget).toggleClass("show")}),m.find(".fx-actions-tab-hldr").on("hide.bs.dropdown",function(a){var b=$(a.currentTarget).parent().not(".active");b.find(".fx-actions-tab-hldr.show").removeClass("show")})}j.$overview.append(m);var r=a.tabDropdownTemplate;r=r.replace(new RegExp("{{name}}","ig"),n?n:b).replace(new RegExp("{{id}}","ig"),c),j.$dropdownTabOverview.append(r),j.handleResize(),f&&($("#fx-a-"+c).click(),j.right()),j.emitTabAdded(m)},l.prototype.emitTabRemoved=function(a){var b=this;b.$sliderTabEl.trigger({type:"removed.fx.slider.tab",tab:a,fxslidertab:b})},l.prototype.removeTab=function(a){var b=$(this).parents("li"),c=(b.children('a[data-toggle="tab"]').attr("href"),b.hasClass("active"));if(c){var d=i(a,b);null!=d&&a.selectTabById(d.attr("id"))}var e=b.attr("id");b.remove(),a.$dropdownTabOverview.find('li[data-tab-target-id="'+e+'"]').remove();a.$contentContainer.children("[data-tab-target-id="+e+"]").remove();a.handleResize(),a.emitTabRemoved(b)},l.prototype.emitAllTabsRemoved=function(){var a=this;a.$sliderTabEl.trigger({type:"removedAll.fx.slider.tab",fxslidertab:a})},l.prototype.removeAllTabs=function(){var a=this;a.$overview.find("li").remove(),a.$dropdownTabOverview.find("li[data-tab-target-id]").remove();a.$contentContainer.find("[data-tab-target-id]").remove();a.handleResize(),a.emitAllTabsRemoved()},l.prototype.filterDropdownTabs=function(a){var b=this,c=b.value;a.$dropdownTabOverview.children("li").removeClass("hidden"),a.$dropdownTabOverview.children("li").filter(function(){return!FUXI.Utils.like($(this).children("a").text(),c+"%")}).addClass("hidden")},l.prototype.tabContentLoaded=function(b,c,d){if(b&&(this.hideLoading(b),c)){b.addClass("fx-status");var e=a.tabStatusTemplate.replace(new RegExp("{{status}}","ig"),c).replace(new RegExp("{{title}}","ig"),d||"").replace(new RegExp("{{id}}","ig"),b.attr("id"));b.append(e)}},l.prototype.hideLoading=function(a){a&&a.children("a").find(".fx-ico-loading").hide()},l.prototype.showLoading=function(a){a&&a.children("a").find(".fx-ico-loading").show()};var m=function(){$("[data-fx-slider-tab]").each(function(){var a=$(this),b=new l(a);a.data("fxslidertab",b)})};a.isAsync?m():$(window).on("load",function(){m()})},FUXI.WidgetSelect={},function(a,b,c,d){var e={init:function(b,c){var d=this;d.elem=c,d.$elem=a(c),d.options=a.extend(!0,{},a.fn.widgetSelect.options,b),d.currentPage=1,d.layout,d.pageSelectedAll=[],d.defaultErrorResult={isValid:!1,message:""};var e="modal";"inline"===d.options.openMode&&(e="fx-ws-inline"),d.$widgetHeader=a("."+e+"-header",d.$elem),d.$widgetTitle=a("."+e+"-title",d.$elem),d.$widgetBody=a("."+e+"-body",d.$elem),d.$widgetContent=a("."+e+"-content",d.$elem),d.$widgetFooter=a("."+e+"-footer",d.$elem),d.widgetBodyWidth=0,d.$widgetSelectedItemsContainer=a(".fx-widget-selected-items-container",d.$elem),d.$widgetSelectItemsRemoveAll=a("[data-remove-all]",d.$elem),d.$widgetSelectTotalItemsSelected=a("[data-num-items-selected]",d.$elem),d.$widgetSelectItemsMsg=a("[data-msg-items]",d.$elem),d.$widgetSelectTotalItems=a("[data-total-items]",d.$elem),d.$widgetSelectItemsContainer=a(".fx-widget-select-items-container",d.$elem),d.$widgetSelectItemsWraper=a(".fx-widget-select-choices-wrapper",d.$widgetSelectItemsContainer),d.$widgetSelectTableItemsChoices=a(".fx-table-widget-select-choices",d.$widgetSelectItemsWraper),d.$widgetSelectTableItemsChoicesContainer=a("tbody",d.$widgetSelectTableItemsChoices),d.$wsTree=a(".fx-widget-select-tree-container",d.$widgetSelectItemsWraper),d.$widgetSelectItem=a(".fx-widget-select-item",d.$elem),d.$wrapperWidgetSelectContent=a(".fx-widget-select-content",d.$elem),d.$wrapperWidgetPreviewHeader=a(".fx-widget-select-preview-header",d.$elem),d.$wrapperWidgetPreviewBody=a(".fx-widget-select-preview-body",d.$elem),d.$wrapperWidgetPreviewInfo=a(".fx-widget-select-preview-aux-info",d.$elem),d.$widgetSelectTableItemsChoicesOptions=a(".fx-widget-select-choices-options",d.$widgetSelectItem),d.$widgetSelectTableItemsChoicesOptions.hide(),d.$choiceSelectItems=a(".fx-widget-select-choices-options-select",d.$widgetSelectTableItemsChoicesOptions),d.$widgetSelectPagingContainer=a(".fx-widget-select-paging",d.$widgetSelectItem),d.$pagingPrevious=a("[data-paging-previous]",d.$widgetSelectPagingContainer),d.$pagingNext=a("[data-paging-next]",d.$widgetSelectPagingContainer),d.$pagingNumCurrentPage=a("[data-paging-num-current-page]",d.$widgetSelectPagingContainer),d.$pagingNumTotalPages=a("[data-paging-total-pages]",d.$widgetSelectPagingContainer),d.options.multiSelection&&d.options.showPageOptionSelectAll&&"grid"===d.options.showMode?d.$widgetSelectPagingContainer.removeClass("hidden"):d.$widgetSelectPagingContainer.addClass("hidden"),d.$sortElements=a(".fx-widget-select-sort-column",d.$elem),d.$searchButton=a(".fx-widget-select-search-button",d.$elem),d.$searchText=a(".fx-widget-select-search-text",d.$elem),d.selectedItems=[],d.selectedItemsTemp=[],d.items=[],d.itemKeys=[],d.totalItems=0,d.selectItemMandatory=d.options.selectItemMandatory||!1,d.selectItemMandatoryMessage=d.options.selectItemMandatoryMessage||"",d.clientAddValidator=d.options.clientAddValidator||function(){return{isValid:!0,message:""}},d.notificationCallback=d.options.notificationCallback,d.lazyLoadCallback=d.options.lazyLoadCallback,d.$btShowAdd=a(d.$elem).find("[data-ws-show-add]"),d.$btShowSelect=a(d.$elem).find("[data-ws-show-select]"),d.$btAddSave=a(d.$elem).find("[data-ws-add-save]"),d.$btAddCancel=a(d.$elem).find("[data-ws-add-cancel]"),d.$btSelect=a(d.$elem).find("[data-ws-select]"),d.$btCancel=a(d.$elem).find("[data-ws-cancel]"),d.options.showAddView&&"tree"!==d.options.showMode||d.$btShowAdd.hide(),d.options.showPreviewView?d.$widgetSelectTableItemsChoices.find(".fx-preview-action").show():d.$widgetSelectTableItemsChoices.find(".fx-preview-action").hide();var f=a("<dummy></dummy>").append(a.trim(d.options.itemsTemplate));if(d.options.multiSelection?(f.find("[data-uni-select]").remove(),d.options.itemsTemplate=f.html(),d.options.showPageOptionSelectAll&&"grid"===d.options.showMode&&d.$widgetSelectTableItemsChoicesOptions.show()):(f.find("[data-multi-select]").remove(),d.options.itemsTemplate=f.html()),d.options.allowDrag){if(0===d.$widgetTitle.find("i.fx-drag").length){var g='<i class="fx-drag"></i>';d.$widgetTitle.prepend(g).css("cursor","move")}d.$widgetContent.draggable({containment:"document",delay:200,handle:d.$widgetTitle})}else d.$widgetTitle.css("cursor","default").find("i.fx-drag").remove(),d.$widgetContent.draggable().draggable("destroy");d.addListeners()},selectedItem:function(a,b,c,e){this.id=a?a.toString():"",this.text=b?b.toString():"",this.temp=c,this.showPreview=e===d?!0:e},emitShowWidgetSelected:function(){var a=this;a.$elem.trigger({type:"shown.fx.widgetselect",widgetselect:a})},shownWidgetSelect:function(){var b=this;b.$widgetSelectItem.removeClass("hidden"),"modal"===b.options.openMode&&a(".fx-search-input input[type=text]",b.$widgetBody).focus(),this.widgetBodyWidth=b.$widgetBody.width(),this.$wrapperWidgetSelectContent.width(b.widgetBodyWidth),b.$widgetSelectItem.width(b.widgetBodyWidth),b.selectedItemsTemp=b.selectedItems.slice(0),b.layout=a(".select-model-layout",b.$elem).layout(b.options.layoutOptions),b.options.showPreviewView||b.layout.hide("east"),b.hidePreviewContent(),b.options.showPreviewView&&b.layout.open("east"),b.layout.open("south"),b.emitShowWidgetSelected()},hiddenWidgetSelect:function(){var a=this;a.$widgetSelectItemsContainer.animate({left:0}),a.$btShowSelect.addClass("hidden"),a.$btShowAdd.removeClass("hidden"),a.$btSelect.removeClass("disabled"),a.$btCancel.removeClass("disabled")},destroy:function(){var a=this;a.$elem.removeData("widgetselect"),a.reset(),a.removeAllEvents()},removeAllEvents:function(){var a=this;a.$sortElements.off("click.fx.widgetselect.sortby"),a.$searchButton.off("click.fx.widgetselect.search"),a.$btShowAdd.off("click.fx.widgetselect.showadd"),a.$btShowSelect.off("click.fx.widgetselect.showselect"),a.$btAddSave.off("click.fx.widgetselect.addsave"),a.$btAddCancel.off("click.fx.widgetselect.addcancel"),a.$btSelect.off("click.fx.widgetselect.selectconfirm"),a.$btCancel.off("click.fx.widgetselect.selectcancel"),a.$widgetSelectItemsRemoveAll.off("click.fx.widgetselect.removeall"),a.$elem.off("click").off("click.fx.widgetselect.itemremove"),a.$elem.off("shown.bs.modal.fx").off("hidden.bs.modal.fx"),a.$elem.off("click.fx.widgetselect.itempreview"),a.$elem.off("click.fx.widgetselect.rowclick").off("click.fx.widgetselect.inputclick"),a.$choiceSelectItems.off("click.fx.widgetselect.selectallpage"),a.$pagingPrevious.off("click.fx.widgetselect.previous"),a.$pagingNext.off("click.fx.widgetselect.next"),a.$elem.off("click.fx.widgetselect.rowclick").off("click.fx.widgetselect.inputclick")},handleLazyLoad:function(){var c=this;c.lazyLoadCallback!==d&&c.totalItems>0&&!c.options.showPageOptionSelectAll&&c.$widgetSelectItemsWraper.scroll(function(){var d=a(this);if(Math.round(d.scrollTop()+d[0].clientHeight)>=d[0].scrollHeight){var e=Math.ceil(c.totalItems/c.options.itemsPerPage);c.currentPage<=e&&(c.currentPage++,"function"==typeof c.lazyLoadCallback?c.lazyLoadCallback(c.currentPage):"string"==typeof c.lazyLoadCallback&&FUXI.Utils.executeFunctionByName(c.lazyLoadCallback,b,c.currentPage))}})},loadPage:function(){var a=this;a.$widgetSelectTableItemsChoicesContainer.empty().scrollTop(),"function"==typeof a.lazyLoadCallback?a.lazyLoadCallback(a.currentPage):"string"==typeof a.lazyLoadCallback&&FUXI.Utils.executeFunctionByName(a.lazyLoadCallback,b,a.currentPage),a.handlePaging()},showNotification:function(a,c){var d=this;"function"==typeof d.notificationCallback?d.notificationCallback(a,c):"string"==typeof d.notificationCallback&&FUXI.Utils.executeFunctionByName(d.notificationCallback,b,a,c)},addListeners:function(){var b=this;b.removeAllEvents(),b.$sortElements.on("click.fx.widgetselect.sortby",a.proxy(b.sortBy,null,b)),b.$searchButton.on("click.fx.widgetselect.search",a.proxy(b.search,null,b)),b.$btShowAdd.on("click.fx.widgetselect.showadd",a.proxy(b.showAdd,b)),b.$btShowSelect.on("click.fx.widgetselect.showselect",a.proxy(b.showSelect,b)),b.$btAddSave.on("click.fx.widgetselect.addsave",a.proxy(b.addSave,b)),b.$btAddCancel.on("click.fx.widgetselect.addcancel",a.proxy(b.addCancel,b)),b.$btSelect.on("click.fx.widgetselect.selectconfirm",a.proxy(b.selectConfirm,b)),b.$btCancel.on("click.fx.widgetselect.selectcancel",a.proxy(b.selectCancel,b)),b.$widgetSelectItemsRemoveAll.on("click.fx.widgetselect.removeall",a.proxy(b.removeAll,b)),b.$elem.on("click.fx.widgetselect.itemremove","[data-ws-remove]",a.proxy(b.itemRemove,null,b)),"modal"===b.options.openMode&&b.$elem.on("shown.bs.modal.fx",a.proxy(b.shownWidgetSelect,b)).on("hidden.bs.modal.fx",a.proxy(b.hiddenWidgetSelect,b)),b.options.showPreviewView&&b.$elem.on("click.fx.widgetselect.itempreview","[data-ws-preview]",a.proxy(b.itemPreview,null,b)),"grid"===b.options.showMode?b.options.multiSelection?(b.$elem.on("click.fx.widgetselect.rowclick",".fx-table-widget-select-choices tbody>tr td:not(:last-child)",function(){a(this).parent().find("input:checkbox").trigger("click.fx.widgetselect.inputclick")}).on("click.fx.widgetselect.inputclick",".fx-table-widget-select-choices input:checkbox[data-multi-select]",a.proxy(b.itemClicked,null,b)),b.options.showPageOptionSelectAll&&(b.$choiceSelectItems.on("click.fx.widgetselect.selectallpage",function(){var c=this.checked;b.pageSelectedAll[b.currentPage]=c,a.each(b.items,function(a,d){b.itemShowCheckbox(d)&&(c?b.selectItem(d):b.unselectItem(d))})}),b.$pagingPrevious.on("click.fx.widgetselect.previous",function(){b.currentPage--,b.$choiceSelectItems.prop("checked",b.pageSelectedAll[b.currentPage]||!1),b.loadPage()}),b.$pagingNext.on("click.fx.widgetselect.next",function(){b.currentPage++,b.$choiceSelectItems.prop("checked",b.pageSelectedAll[b.currentPage]||!1),b.loadPage()}))):b.$elem.on("click.fx.widgetselect.rowclick",".fx-table-widget-select-choices tbody>tr td:not(:last-child)",function(){0!=a(this).parent().find("input:radio").data("show-checkbox")&&(a(this).parent().find("input:radio").prop("checked",!0),a(this).parent().find("input:radio").trigger("click.fx.widgetselect.inputclick"))}).on("click.fx.widgetselect.inputclick",".fx-table-widget-select-choices input:radio[data-uni-select]",a.proxy(b.itemClicked,null,b)):"tree"===b.options.showMode},emitItemPreview:function(a){var b=this,c=b.getItemById(a);b.$elem.trigger({type:"itempreview.fx.widgetselect",id:a,item:c,widgetselect:b})},itemPreview:function(b){var c=this,d=a(c).parent(),e=d.data("id");0!=d.data("show-preview")&&(b.layout.open("east"),b.emitItemPreview(e))},itemTreePreview:function(a){var b=this,c=a.id;b.layout.open("east"),b.emitItemPreview(c)},emitItemRemove:function(a){var b=this;b.$elem.trigger({type:"itemremove.fx.widgetselect",id:a.id,item:a,widgetselect:b})},itemRemove:function(b){var c=this,d=a(c).parent(),e=d.data("id"),f=d.data("text"),g=b.getItemById(e);b.unselectItem(new b.selectedItem(e,f)),b.emitItemRemove(g)},emitRemoveAll:function(){var a=this;a.$elem.trigger({type:"removeall.fx.widgetselect",widgetselect:a})},removeAll:function(){var b=this;a.each(b.selectedItemsTemp,function(a,c){b.unselectItem(c)}),b.pageSelectedAll=[],b.$choiceSelectItems.prop("checked",!1),b.emitRemoveAll()},handleShowAddView:function(a){var b=this;b.$btShowAdd.addClass("hidden"),b.$btShowSelect.removeClass("hidden"),b.$btSelect.addClass("disabled"),b.$btCancel.addClass("disabled"),b.$widgetSelectItemsContainer.animate({left:"-="+b.widgetBodyWidth},300,function(){"function"==typeof a&&a.apply(b)})},emitShowAdd:function(){var a=this;a.$elem.trigger({type:"showadd.fx.widgetselect",widgetselect:a})},showAdd:function(){var a=this;a.handleShowAddView.call(a,a.emitShowAdd)},handleShowSelectView:function(a){var b=this;b.$btShowSelect.addClass("hidden"),b.$btShowAdd.removeClass("hidden"),b.$btSelect.removeClass("disabled"),b.$btCancel.removeClass("disabled"),b.$widgetSelectItemsContainer.animate({left:"+="+b.widgetBodyWidth},300,function(){"function"==typeof a&&a.apply(b)})},emitShowSelect:function(){var a=this;a.$elem.trigger({type:"showselect.fx.widgetselect",widgetselect:a})},showSelect:function(){var a=this;a.handleShowSelectView.call(a,a.emitShowSelect)},getAddClientValidator:function(){var a=this;return a.clientAddValidator},saveFormIsValid:function(){var a=this,c=a.defaultErrorResult;try{var d=a.getAddClientValidator();"string"==typeof d?d&&(c=FUXI.Utils.executeFunctionByName(d,b,{widgetselect:a})):"function"==typeof d&&(c=d(a))}catch(e){c.message=e}return c},emitAddSave:function(){var a=this;a.$elem.trigger({type:"addsave.fx.widgetselect",widgetselect:a})},addSave:function(){var a=this,b=a.saveFormIsValid();return b.isValid?void a.emitAddSave():void a.showNotification("error",b.message)},emitAddCancel:function(){var a=this;a.$elem.trigger({type:"addcancel.fx.widgetselect",widgetselect:a})},addCancel:function(){var a=this;a.handleShowSelectView.call(a,a.emitAddCancel)},showPreviewContent:function(){var a=this;a.$wrapperWidgetPreviewInfo.addClass("hidden"),a.$wrapperWidgetPreviewHeader.removeClass("hidden"),a.$wrapperWidgetPreviewBody.show().removeClass("hidden"),a.layout.resizeAll()},hidePreviewContent:function(){var a=this;a.$wrapperWidgetPreviewInfo.removeClass("hidden"),a.$wrapperWidgetPreviewHeader.addClass("hidden"),a.$wrapperWidgetPreviewHeader.addClass("hidden"),a.layout.resizeAll()},itemShowPreview:function(a){return a.showPreview===d||null===a.showPreview?!0:a.showPreview},itemShowCheckbox:function(a){return a.showCheckbox===d||null===a.showCheckbox?!0:a.showCheckbox},drawItem:function(b,c){var e=this,f=a.trim(e.options.itemsTemplate);if(f!==d){var g=a.grep(e.selectedItemsTemp,function(a){return a.id.toString()===b.id.toString()}),h=g.length>0,i=f;if(a.each(e.itemKeys,function(a,c){i=i.replace(new RegExp("{{"+c+"}}","ig"),b[c]||"")}),i=i.replace(/{{checked}}/gi,h?"checked='checked'":"").replace(/{{active}}/gi,h?"fx-active":""),!e.itemShowPreview(b)){var j=a("<div/>").html(i);
j.find("[data-ws-preview]").addClass("fx-widget-select-tag-nopreview").attr("title",""),j.find("[data-show-preview]").attr("data-show-preview",!1),j.find(".fx-widget-select-tag-preview-icon").hide(),i=j.html()}if(!e.itemShowCheckbox(b)){var j=a("<div/>").html(i);e.options.multiSelection?j.find("[data-multi-select]").attr("data-show-checkbox",!1).hide():j.find("[data-uni-select]").attr("data-show-checkbox",!1).hide(),i=j.html()}e.$widgetSelectTableItemsChoicesContainer.append(i),e.options.showPreviewView||e.$widgetSelectTableItemsChoicesContainer.find("[data-ws-preview]").hide()}c&&e.selectItem(b)},drawSelectedItem:function(b){var c=this;c.options.multiSelection?c.$widgetSelectedItemsContainer.find("[data-id="+b.id+"]").remove():c.$widgetSelectedItemsContainer.find("[data-id]").remove();var e=a.trim(c.options.selectedItemTemplate);if(e!==d){var f=e,f=e.replace(/{{id}}/gi,b.id).replace(/{{text}}/gi,b.text);if(!c.itemShowPreview(b)){var g=a("<div/>").html(f);g.find("[data-ws-preview]").addClass("fx-widget-select-tag-nopreview").attr("title",""),g.find(".fx-widget-select-tag").attr("data-show-preview",!1),g.find(".fx-widget-select-tag-preview-icon").hide(),f=g.html()}c.$widgetSelectedItemsContainer.append(f),c.options.showPreviewView||c.$widgetSelectedItemsContainer.find(".fx-widget-select-tag-preview-icon").hide()}},selectItem:function(b){var c=this,d=a.grep(c.selectedItemsTemp,function(a){return a.id.toString()===b.id.toString()});if(!(d.length>0)){if(c.pushItem(b),c.updateTotalItemsSelected(),c.drawSelectedItem(b),"grid"===c.options.showMode){if(c.options.multiSelection)var e=a('input:checkbox[value="'+b.id+'"]',c.$widgetSelectTableItemsChoicesContainer);else{a("input:radio",c.$widgetSelectTableItemsChoicesContainer).parent().parent().removeClass("fx-active");var e=a('input:radio[value="'+b.id+'"]',c.$widgetSelectTableItemsChoicesContainer)}e.prop("checked",!0).parent().parent().addClass("fx-active")}else"tree"===c.options.showMode&&c.$wsTree.jstree().select_node(b.id);c.toggleMessageNoItemsSelected()}},unselectItem:function(b){var c=this;if(c.removeItem(b),c.updateTotalItemsSelected(),c.$widgetSelectedItemsContainer.find("[data-id="+b.id+"]").remove(),"grid"===c.options.showMode){if(c.options.multiSelection)var d=a('input:checkbox[value="'+b.id+'"]',c.$widgetSelectTableItemsChoicesContainer);else var d=a('input:radio[value="'+b.id+'"]',c.$widgetSelectTableItemsChoicesContainer);d.prop("checked",!1).parent().parent().removeClass("fx-active")}else"tree"===c.options.showMode&&c.$wsTree.jstree().deselect_node(b.id);c.toggleMessageNoItemsSelected()},handleCheckItemsOption:function(){var a=this;if(a.options.showPageOptionSelectAll){var b=a.$widgetSelectTableItemsChoicesContainer.find("[data-multi-select]").length,c=a.$widgetSelectTableItemsChoicesContainer.find("[data-multi-select]:checked").length,d=b>0&&b===c;a.$choiceSelectItems.prop("checked",d),a.pageSelectedAll[a.currentPage]=d}},itemClicked:function(b,c){var d=this;if(a(d).data("show-checkbox")!==!1){var e,f=new b.selectedItem(0,"",!0),g=a(d).closest("tr");e=d.checked,f.id=d.value,f.text=g.data("text"),f.showPreview=g.data("show-preview"),b.handleCheckItemsOption(),e?b.selectItem(f):b.unselectItem(f),c.stopPropagation()}},toggleMessageNoItemsSelected:function(){var a=this,b=a.$elem.find("[data-msg-no-items]");a.$widgetSelectedItemsContainer.find("[data-id]").length>0?(b.hide(),a.$widgetSelectItemsMsg.show()):(b.show(),a.$widgetSelectItemsMsg.hide())},emitSelectConfirm:function(){var a=this,b="";a.options.returnSelectedItemsSorted&&a.sortSelectedItems(),a.options.returnSelectedItemsHtml&&(b=a.getSelectedItemsHTML()),a.$elem.trigger({type:"selectconfirm.fx.widgetselect",widgetselect:a,selectedItems:a.selectedItems,selectedItemsHtml:b})},selectConfirm:function(){var a=this;if(a.selectedItems=a.getSelectedItems(),a.selectItemMandatory){var b=a.selectedItems.length;if(0===b)return void a.showNotification("error",a.selectItemMandatoryMessage)}a.selectedItemsTemp=a.selectedItems.slice(0),"modal"===a.options.openMode&&a.$elem.modal("hide"),a.emitSelectConfirm()},emitSelectCancel:function(){var a=this;a.$elem.trigger({type:"selectcancel.fx.widgetselect",widgetselect:a})},selectCancel:function(){this.emitSelectCancel()},resetSelectedItems:function(){var b=this,c=a.grep(b.selectedItemsTemp,function(a){return a.temp});a.each(c,function(a,c){b.unselectItem(c)}),b.options.multiSelection?a.each(b.selectedItems,function(a,c){b.selectItem(c)}):b.selectedItems.length>0&&b.selectItem(b.selectedItems[0]),b.selectedItemsTemp=b.selectedItems.slice(0)},pushSelectedItem:function(b){var c=this;if(c.options.multiSelection){var d=a.grep(c.selectedItems,function(a){return a.id.toString()===b.id.toString()});if(0===d.length){var e=new c.selectedItem(b.id,b.text,!1,b.showPreview);b.data&&(e.data=b.data),c.selectedItems.push(e)}}else{var e=new c.selectedItem(b.id,b.text,!1,b.showPreview);b.data&&(e.data=b.data),c.selectedItems=new Array(e)}},removeSelectedItem:function(b){var c=this,d=a.grep(c.selectedItems,function(a){return a.id.toString()!==b.id.toString()});c.selectedItems=d},itemsList:function(a,b){var c=this;c.totalItems=b||0,a.length>0&&(c.items=a,c.itemKeys=0===c.itemKeys.length?Object.keys(a[0]):c.itemKeys,wsLoadItems.call(c),c.handleLazyLoad()),c.$widgetSelectTotalItems.html(b)},selectedItemsList:function(a){var b=this;b.selectedItems=b.options.multiSelection?a||[]:a&&a.length>0?new Array(a[0]):[],b.selectedItemsTemp=b.selectedItems.slice(0),b.updateTotalItemsSelected(),wsLoadSelectedItems.call(b)},updateTotalItemsSelected:function(){this.$widgetSelectTotalItemsSelected.html(this.selectedItemsTemp.length)},removeItem:function(b){var c=this;c.selectedItemsTemp=a.grep(c.selectedItemsTemp,function(a){return a.id.toString()!==b.id.toString()})},pushItem:function(b){var c=this,d=c.getItemById(b.id);if(d&&d.data&&(b.data=d.data),c.options.multiSelection){var e=a.grep(c.selectedItemsTemp,function(a){return a.id.toString()===b.id.toString()});0===e.length&&c.selectedItemsTemp.push(b)}else c.selectedItemsTemp=new Array(b)},reset:function(){var a=this;a.selectedItemsTemp=[],a.selectedItems=[],a.itemKeys=[],a.resetList(),a.$widgetSelectedItemsContainer.empty().scrollTop(),a.resetSortIcons()},resetList:function(){var a=this;a.pageSelectedAll=[],a.items=[],a.totalItems=0,a.currentPage=1,a.options.showPageOptionSelectAll&&a.$choiceSelectItems.prop("checked",!1),"grid"===a.options.showMode?a.$widgetSelectTableItemsChoicesContainer.empty().scrollTop():"tree"===a.options.showMode&&a.$wsTree.jstree("destroy").empty().scrollTop(),a.toggleMessageNoItemsSelected()},handlePaging:function(){var a=this,b=Math.ceil(a.totalItems/a.options.itemsPerPage);a.$pagingNumTotalPages.html(b),a.$pagingNumCurrentPage.html(a.currentPage),a.$pagingPrevious.removeClass("disabled"),1===a.currentPage&&a.$pagingPrevious.addClass("disabled"),a.$pagingNext.removeClass("disabled"),a.currentPage===b&&a.$pagingNext.addClass("disabled")},emitSortBy:function(a,b){var c=this;c.$elem.trigger({type:"sortby.fx.widgetselect",column:a,desc:b,widgetselect:c})},sortBy:function(b){var c=a(this),d=c.data("sort"),e=1==d,f=c.data("column");b.handleSortIcons(c,e),b.emitSortBy(f,e)},handleSortIcons:function(b,c){this.$sortElements.addClass("hide"),a(".fx-widget-select-sort-column[data-sort=0]").removeClass("hide"),b.siblings("[data-sort=0]").addClass("hide"),b.addClass("hide"),c?b.siblings("[data-sort=-1]").removeClass("hide"):b.siblings("[data-sort=1]").removeClass("hide")},resetSortIcons:function(){this.$sortElements.addClass("hide"),a(".fx-widget-select-sort-column[data-sort=0]").removeClass("hide")},emitSearch:function(a){var b=this;b.$elem.trigger({type:"search.fx.widgetselect",search:a,widgetselect:b})},search:function(b,c){c.preventDefault();a(this);b.resetSortIcons(),b.emitSearch(b.$searchText.val())},getJSTreeConfiguration:function(){var a=this,b=a.items;plugins=a.options.jstreePlugins,pluginConf=a.options.jstreePluginsConfiguration,coreConf=a.options.jstreeCoreConfiguration;var c={core:{animation:0,themes:{name:"fuxi",responsive:!1,stripes:!0,dots:!1,icons:!1},data:b,multiple:a.options.multiSelection},plugins:["themes","html_data","checkbox","preview"],checkbox:{three_state:!1},preview:{showPreview:a.options.showPreviewView,loadPreview:function(b){switch(b.action){case"preview":a.itemTreePreview(b.node)}}}};return plugins&&(c.plugins=c.plugins.concat(plugins)),pluginConf&&pluginConf.forEach(function(a){c[a.key]=a.value}),coreConf&&coreConf.forEach(function(a){c.core[a.key]=a.value}),c},getItemById:function(b){var c=this,d=null;if("tree"===c.options.showMode){var e=c.$wsTree.jstree();if(e){var f=e.get_node(b);d=f.original,d.data=f.data}}else c.items&&(d=a.grep(c.items,function(a){return a.id.toString()===b.toString()}),d.length>0&&(d=d[0]));return d},getSelectedItems:function(){var b=this;return b.selectedItems=[],a.each(b.selectedItemsTemp,function(a,c){b.pushSelectedItem(c)}),b.selectedItems},getSelectedItemsHTML:function(){var b=this,c=b.selectedItems,e=[],f=a.trim(b.options.selectedItemReturnTemplate)||a.trim(b.options.selectedItemTemplate);if(f!==d){a.each(c,function(c,d){var g=f.replace(/{{id}}/gi,d.id).replace(/{{text}}/gi,d.text);if(!b.itemShowPreview(d)){var h=a("<div/>").html(g);h.find("[data-ws-preview]").addClass("fx-widget-select-tag-nopreview").attr("title",""),h.find(".fx-widget-select-tag").attr("data-show-preview",!1),h.find(".fx-widget-select-tag-preview-icon").hide(),g=h.html()}e.push(g)})}return e.join("")},sortSelectedItems:function(){var a=this;b._?a.selectedItems=_.sortByAll(a.selectedItems,["text"]):a.selectedItems.sort(function(a,b){var c="string"!=typeof a.text?a.text:a.text.toLowerCase(),d="string"!=typeof b.text?b.text:b.text.toLowerCase();return c==d?0:c>d?1:-1})}};a.fn.widgetSelect=function(b){return this.each(function(){var c=Object.create(e);c.init(b,this),a.data(this,"widgetselect",c)}).data("widgetselect")},a.fn.widgetSelect.options={showAddView:!0,showPreviewView:!0,allowDrag:!0,showPageOptionSelectAll:!1,selectItemMandatory:!1,selectItemMandatoryMessage:"",clientAddValidator:d,notificationCallback:d,lazyLoadCallback:d,layoutOptions:{defaults:{resizable:!0,livePaneResizing:!0,resizerTip:"Resize",spacing_closed:10,spacing_open:10},center:{contentSelector:".fx-widget-select-choices-wrapper"},east:{size:300,minSize:100,maxSize:450,contentSelector:".fx-widget-select-preview-body"},south:{size:100,minSize:50,maxSize:300,contentSelector:".fx-widget-selected-items-container"},west:{size:300,minSize:100,maxSize:450,contentSelector:".fx-widget-select-preview-body"}},multiSelection:!0,itemsPerPage:20,itemsTemplate:'<tr class="{{active}}" data-id="{{id}}" data-text="{{text}}" data-show-preview="true"><td class="fx-option-select"><input type="checkbox" data-multi-select name="chk-item-selected" value="{{id}}" {{checked}}><input type="radio" data-uni-select name="rd-item-selected" value="{{id}}" {{checked}}></td><td><span class="fx-truncate-table-cell">{{name}}</span></td><td><span class="fx-truncate-table-cell">{{description}}</span></td><td class="fx-widget-select-action-wrapper" title="prÔøΩ-visualizar" data-ws-preview><i class="fuxicons fuxicons-eye fx-widget-select-tag-preview-icon"></i></td></tr>',selectedItemTemplate:'<div class="fx-widget-select-tag" data-id="{{id}}" data-text="{{text}}" data-show-preview="true"><div class="fx-widget-select-tag-remove" title="remover" data-ws-remove><i class="glyphicon glyphicon-remove"></i></div><div class="fx-widget-select-tag-preview" title="prÔøΩ-visualizar" data-ws-preview><span class="fx-widget-select-tag-name">{{text}}</span><i class="fuxicons fuxicons-eye fx-widget-select-tag-preview-icon"></i></div></div>',selectedItemReturnTemplate:"",showMode:"grid",openMode:"modal",jstreePlugins:[],jstreePluginsConfiguration:[],jstreeCoreConfiguration:[],returnSelectedItemsSorted:!1,returnSelectedItemsHtml:!1},wsLoadItems=function(){var b=this;if("grid"===b.options.showMode)b.$widgetSelectTableItemsChoices.show(),b.$wsTree.hide(),a.each(b.items,function(a,c){b.drawItem(c,b.pageSelectedAll[b.currentPage]||!1)}),b.handleCheckItemsOption(),b.handlePaging();else if("tree"===b.options.showMode){b.$wsTree.show(),b.$widgetSelectTableItemsChoices.hide();var c=b.getJSTreeConfiguration();b.$wsTree.jstree(c).on("select_node.jstree",function(a,c){b.selectItem(new b.selectedItem(c.node.id,c.node.text,c.event?!0:!1,c.node.li_attr.showpreview))}).on("deselect_node.jstree",function(a,c){b.unselectItem(new b.selectedItem(c.node.id,c.node.text))}).on("loaded.jstree",function(c,d){a.each(b.selectedItems,function(a,b){d.instance.select_node(b.id)})}).on("ready.jstree",function(){a("li[showcheckbox=false] > a > .jstree-checkbox",this).hide()}).on("open_node.jstree",function(){a("li[showcheckbox=false] > a > .jstree-checkbox",this).hide()})}b.layout.resizeAll()},wsLoadSelectedItems=function(){var b=this;a.each(b.selectedItems,function(a,c){b.drawSelectedItem(c),b.pushSelectedItem(c)}),b.toggleMessageNoItemsSelected()}}(jQuery,window,document),function(a,b){"use strict";if(a.jstree&&a.jstree.plugins!==b){var c=a("<div class='fx-jstree-preview'><i class='fuxicons fuxicons-eye' data-action='preview'></i></div>").get(0);a.jstree.defaults.preview={loadPreview:a.noop,showPreview:!0},a.jstree.plugins.preview=function(d,e){this.bind=function(){e.bind.call(this),this.element.on("click.jstree",".fx-jstree-preview",a.proxy(function(a){a.stopImmediatePropagation(),this.settings.preview.loadPreview.call(this,{node:this.get_node(a.target),action:a.target.getAttribute("data-action")})},this))},this.teardown=function(){this.settings.preview&&this.element.find(".fx-jstree-actionbuttons").remove(),e.teardown.call(this)},this.redraw_node=function(d,f,g){d=e.redraw_node.call(this,d,f,g);var h=a(d).attr("showpreview")===b?"true":a(d).attr("showpreview");if(d&&"true"===h&&this.settings.preview.showPreview){var i=c.cloneNode(!0);i.id="previewNode_"+d.id,d.insertBefore(i,d.childNodes[2])}return d}}}}(jQuery),FUXI.DetachableDropdowns={},FUXI.DetachableDropdowns.init=function(){"use strict";var a=$("body");$("[data-rel-dropdown-detach]").on("click",function(){var b=$("#"+this.getAttribute("data-rel-dropdown-detach")),c=$('button[data-rel-dropdown="'+this.getAttribute("data-rel-dropdown-detach")+'"]'),d=b.hasClass("is-detached"),e=b.find("[data-rel-dropdown-detach] i");b.detach(),d?(c.after(b),b.attr("style","display: block;").removeClass("is-detached").draggable("destroy"),e.removeClass("fuxicons-restore-from-window").addClass("fuxicons-open-in-window").attr("title","destacar painel (cf)")):(a.append(b),e.removeClass("fuxicons-open-in-window").addClass("fuxicons-restore-from-window").attr("title","restaurar painel"),b.addClass("is-detached").draggable())})},$(function(){FUXI.Utils.onReady(),FUXI.Utils.init()});